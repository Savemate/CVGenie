<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Master Interview Skills - 9to5 University</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <header>
        <nav>
            <div class="logo">
                <h1><i class="fas fa-file-alt"></i> 9to5 University</h1>
            </div>
            <ul class="nav-links">
                <li><a href="index.html"><i class="fas fa-home"></i> Home</a></li>
                <li><a href="resume-builder.html"><i class="fas fa-edit"></i> Resume Builder</a></li>
                <li><a href="courses.html" class="active"><i class="fas fa-graduation-cap"></i> Courses</a></li>
                <li><a href="hustle-jobs.html"><i class="fas fa-briefcase"></i> Hustle Jobs</a></li>
                <li><a href="workers-rights.html"><i class="fas fa-balance-scale"></i> Workers Rights</a></li>
                <li><a href="login.html" class="login-btn"><i class="fas fa-sign-in-alt"></i> Login</a></li>
            </ul>
            <div class="mobile-menu">
                <i class="fas fa-bars"></i>
            </div>
        </nav>
    </header>

    <main class="courses-container">
        <div class="course-hero">
            <div class="hero-content">
                <h1>Master Your Interview Skills</h1>
                <p class="subtitle">Learn how to ace any job interview and land your dream job</p>
                <div class="course-meta">
                    <span><i class="fas fa-clock"></i> Self-paced</span>
                    <span><i class="fas fa-book"></i> 20 Lessons</span>
                    <span><i class="fas fa-certificate"></i> Free Certificate</span>
                    <span><i class="fas fa-user-graduate"></i> 10,000+ students</span>
                </div>
                <button class="btn-primary" id="start-course">
                    <i class="fas fa-play-circle"></i> Start Learning Free
                </button>
            </div>
            <div class="hero-image">
                <img src="https://images.unsplash.com/photo-1581094794329-c8112a89af12?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="Interview Skills">
            </div>
        </div>

        <div class="course-content">
            <!-- Course Progress -->
            <div class="progress-section" id="progress-section" style="display: none;">
                <h2><i class="fas fa-chart-line"></i> Your Progress</h2>
                <div class="progress-bar">
                    <div class="progress-fill" id="progress-fill" style="width: 0%"></div>
                </div>
                <div class="progress-info">
                    <span id="progress-text">0% Complete</span>
                    <span id="completed-lessons">0/20 Lessons</span>
                </div>
            </div>

            <!-- Course Curriculum -->
            <div class="curriculum-section">
                <h2><i class="fas fa-list-alt"></i> Course Curriculum</h2>
                
                <div class="modules">
                    <!-- Module 1 -->
                    <div class="module">
                        <div class="module-header">
                            <h3><i class="fas fa-clipboard-list"></i> Module 1: Interview Preparation</h3>
                            <span class="module-status" id="module1-status">Start</span>
                        </div>
                        <div class="lessons">
                            <div class="lesson completed" data-lesson="1.1">
                                <i class="fas fa-check-circle"></i>
                                <span>1.1 Understanding the Interview Process</span>
                                <button class="btn-small view-lesson">View</button>
                            </div>
                            <div class="lesson" data-lesson="1.2">
                                <i class="far fa-circle"></i>
                                <span>1.2 Researching Companies and Roles</span>
                                <button class="btn-small view-lesson">View</button>
                            </div>
                            <div class="lesson" data-lesson="1.3">
                                <i class="far fa-circle"></i>
                                <span>1.3 Preparing Your Success Stories</span>
                                <button class="btn-small view-lesson">View</button>
                            </div>
                            <div class="lesson" data-lesson="1.4">
                                <i class="far fa-circle"></i>
                                <span>1.4 Dress Code and Professional Appearance</span>
                                <button class="btn-small view-lesson">View</button>
                            </div>
                            <div class="lesson" data-lesson="1.5">
                                <i class="far fa-circle"></i>
                                <span>1.5 What to Bring to an Interview</span>
                                <button class="btn-small view-lesson">View</button>
                            </div>
                        </div>
                    </div>

                    <!-- Module 2 -->
                    <div class="module">
                        <div class="module-header">
                            <h3><i class="fas fa-comments"></i> Module 2: Answering Interview Questions</h3>
                            <span class="module-status" id="module2-status">Locked</span>
                        </div>
                        <div class="lessons">
                            <div class="lesson locked" data-lesson="2.1">
                                <i class="far fa-circle"></i>
                                <span>2.1 "Tell Me About Yourself" - Perfect Answer</span>
                                <button class="btn-small" disabled>Locked</button>
                            </div>
                            <div class="lesson locked" data-lesson="2.2">
                                <i class="far fa-circle"></i>
                                <span>2.2 Behavioral Questions (STAR Method)</span>
                                <button class="btn-small" disabled>Locked</button>
                            </div>
                            <div class="lesson locked" data-lesson="2.3">
                                <i class="far fa-circle"></i>
                                <span>2.3 Strengths and Weaknesses</span>
                                <button class="btn-small" disabled>Locked</button>
                            </div>
                            <div class="lesson locked" data-lesson="2.4">
                                <i class="far fa-circle"></i>
                                <span>2.4 Salary Expectation Questions</span>
                                <button class="btn-small" disabled>Locked</button>
                            </div>
                            <div class="lesson locked" data-lesson="2.5">
                                <i class="far fa-circle"></i>
                                <span>2.5 Questions to Ask the Interviewer</span>
                                <button class="btn-small" disabled>Locked</button>
                            </div>
                        </div>
                    </div>

                    <!-- Module 3 -->
                    <div class="module">
                        <div class="module-header">
                            <h3><i class="fas fa-video"></i> Module 3: Virtual Interview Skills</h3>
                            <span class="module-status" id="module3-status">Locked</span>
                        </div>
                        <div class="lessons">
                            <div class="lesson locked" data-lesson="3.1">
                                <i class="far fa-circle"></i>
                                <span>3.1 Setting Up Your Virtual Space</span>
                                <button class="btn-small" disabled>Locked</button>
                            </div>
                            <div class="lesson locked" data-lesson="3.2">
                                <i class="far fa-circle"></i>
                                <span>3.2 Technical Preparation Checklist</span>
                                <button class="btn-small" disabled>Locked</button>
                            </div>
                            <div class="lesson locked" data-lesson="3.3">
                                <i class="far fa-circle"></i>
                                <span>3.3 Body Language on Camera</span>
                                <button class="btn-small" disabled>Locked</button>
                            </div>
                            <div class="lesson locked" data-lesson="3.4">
                                <i class="far fa-circle"></i>
                                <span>3.4 Managing Technical Issues</span>
                                <button class="btn-small" disabled>Locked</button>
                            </div>
                            <div class="lesson locked" data-lesson="3.5">
                                <i class="far fa-circle"></i>
                                <span>3.5 Virtual Interview Etiquette</span>
                                <button class="btn-small" disabled>Locked</button>
                            </div>
                        </div>
                    </div>

                    <!-- Module 4 -->
                    <div class="module">
                        <div class="module-header">
                            <h3><i class="fas fa-handshake"></i> Module 4: Post-Interview Success</h3>
                            <span class="module-status" id="module4-status">Locked</span>
                        </div>
                        <div class="lessons">
                            <div class="lesson locked" data-lesson="4.1">
                                <i class="far fa-circle"></i>
                                <span>4.1 The Perfect Thank You Email</span>
                                <button class="btn-small" disabled>Locked</button>
                            </div>
                            <div class="lesson locked" data-lesson="4.2">
                                <i class="far fa-circle"></i>
                                <span>4.2 Professional Follow-Up Strategy</span>
                                <button class="btn-small" disabled>Locked</button>
                            </div>
                            <div class="lesson locked" data-lesson="4.3">
                                <i class="far fa-circle"></i>
                                <span>4.3 Handling Job Offers</span>
                                <button class="btn-small" disabled>Locked</button>
                            </div>
                            <div class="lesson locked" data-lesson="4.4">
                                <i class="far fa-circle"></i>
                                <span>4.4 Salary Negotiation Techniques</span>
                                <button class="btn-small" disabled>Locked</button>
                            </div>
                            <div class="lesson locked" data-lesson="4.5">
                                <i class="far fa-circle"></i>
                                <span>4.5 Handling Rejection Positively</span>
                                <button class="btn-small" disabled>Locked</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Current Lesson -->
            <div class="current-lesson-section" id="lesson-content" style="display: none;">
                <div class="lesson-header">
                    <h2 id="lesson-title">Understanding the Interview Process</h2>
                    <button class="btn-small" id="mark-complete">
                        <i class="fas fa-check"></i> Mark Complete
                    </button>
                </div>
                <div class="lesson-body" id="lesson-body">
                    <!-- Lesson content will be loaded here -->
                </div>
                <div class="lesson-navigation">
                    <button class="btn-outline" id="prev-lesson">
                        <i class="fas fa-arrow-left"></i> Previous
                    </button>
                    <button class="btn-primary" id="next-lesson">
                        Next Lesson <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>

            <!-- Downloadable Resources -->
            <div class="resources-section">
                <h2><i class="fas fa-download"></i> Downloadable Resources</h2>
                <div class="resources-grid">
                    <div class="resource-card">
                        <i class="fas fa-file-pdf"></i>
                        <h4>Interview Preparation Checklist</h4>
                        <p>Complete checklist for interview preparation</p>
                        <button class="btn-small download-resource" data-file="interview-checklist.pdf">
                            <i class="fas fa-download"></i> Download
                        </button>
                    </div>
                    <div class="resource-card">
                        <i class="fas fa-file-word"></i>
                        <h4>Common Questions Template</h4>
                        <p>Template for preparing answers to common questions</p>
                        <button class="btn-small download-resource" data-file="questions-template.docx">
                            <i class="fas fa-download"></i> Download
                        </button>
                    </div>
                    <div class="resource-card">
                        <i class="fas fa-file-excel"></i>
                        <h4>Interview Tracker</h4>
                        <p>Spreadsheet to track your interviews and follow-ups</p>
                        <button class="btn-small download-resource" data-file="interview-tracker.xlsx">
                            <i class="fas fa-download"></i> Download
                        </button>
                    </div>
                    <div class="resource-card">
                        <i class="fas fa-file-alt"></i>
                        <h4>Thank You Email Templates</h4>
                        <p>Multiple templates for post-interview follow-up</p>
                        <button class="btn-small download-resource" data-file="thankyou-templates.pdf">
                            <i class="fas fa-download"></i> Download
                        </button>
                    </div>
                </div>
            </div>

            <!-- Practice Exercises -->
            <div class="exercises-section">
                <h2><i class="fas fa-pencil-alt"></i> Practice Exercises</h2>
                <div class="exercise-cards">
                    <div class="exercise-card">
                        <h4>Exercise 1: Tell Your Story</h4>
                        <p>Write a 2-minute introduction about yourself</p>
                        <textarea class="exercise-answer" placeholder="Type your answer here..."></textarea>
                        <button class="btn-small submit-exercise">
                            <i class="fas fa-check"></i> Submit Answer
                        </button>
                    </div>
                    <div class="exercise-card">
                        <h4>Exercise 2: STAR Method Practice</h4>
                        <p>Describe a challenging situation using STAR method</p>
                        <textarea class="exercise-answer" placeholder="Situation, Task, Action, Result..."></textarea>
                        <button class="btn-small submit-exercise">
                            <i class="fas fa-check"></i> Submit Answer
                        </button>
                    </div>
                </div>
            </div>

            <!-- Certificate -->
            <div class="certificate-section">
                <div class="certificate-card">
                    <i class="fas fa-award"></i>
                    <h3>Earn Your Certificate</h3>
                    <p>Complete all modules and exercises to earn your "Interview Mastery" certificate</p>
                    <div class="certificate-progress">
                        <div class="progress-item">
                            <span>Complete all 4 modules</span>
                            <span class="progress-check" id="module-check">0/4</span>
                        </div>
                        <div class="progress-item">
                            <span>Finish practice exercises</span>
                            <span class="progress-check" id="exercise-check">0/2</span>
                        </div>
                    </div>
                    <button class="btn-primary" id="generate-certificate" disabled>
                        <i class="fas fa-certificate"></i> Generate Certificate
                    </button>
                </div>
            </div>
        </div>

        <!-- Donation Section -->
        <div class="course-donation">
            <div class="donation-card">
                <i class="fas fa-hands-helping"></i>
                <h3>Support Free Education</h3>
                <p>This course is completely free thanks to donations. Your support helps us:</p>
                <ul>
                    <li>Keep this course free forever</li>
                    <li>Develop more free career resources</li>
                    <li>Provide interview attire lending program</li>
                    <li>Offer transport assistance for interviews</li>
                </ul>
                
                <div class="donation-options">
                    <button class="donation-option" data-amount="50">R50</button>
                    <button class="donation-option" data-amount="100">R100</button>
                    <button class="donation-option" data-amount="200">R200</button>
                    <button class="donation-option" data-amount="500">R500</button>
                    <div class="custom-donation">
                        <input type="number" id="course-donation-amount" placeholder="Other amount">
                        <span>R</span>
                    </div>
                </div>
                
                <button class="btn-primary" id="course-donate-btn">
                    <i class="fas fa-heart"></i> Make a Donation
                </button>
                
                <div class="bank-details">
                    <h4>Bank Transfer Details:</h4>
                    <p><strong>Bank:</strong> Standard Bank</p>
                    <p><strong>Account:</strong> MagTec Invest</p>
                    <p><strong>Account Number:</strong> 1234567890</p>
                    <p><strong>Reference:</strong> COURSE-DONATION</p>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3>9to5 University</h3>
                <p>Building careers, transforming lives</p>
            </div>
            <div class="footer-section">
                <h4>Contact Us</h4>
                <p><i class="fas fa-envelope"></i> magtecinvest@gmail.com</p>
                <p><i class="fas fa-phone"></i> 079 487 4559</p>
                <p><i class="fab fa-whatsapp"></i> 079 487 4559</p>
            </div>
            <div class="footer-section">
                <h4>Quick Links</h4>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="resume-builder.html">Resume Builder</a></li>
                    <li><a href="courses.html">Courses</a></li>
                    <li><a href="workers-rights.html">Workers Rights</a></li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2023 9to5 University. All rights reserved to MagTec Invest.</p>
        </div>
    </footer>

    <!-- Certificate Modal -->
    <div class="modal" id="certificateModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-award"></i> Certificate of Completion</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="certificate-preview" id="certificatePreview">
                    <!-- Certificate will be generated here -->
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-primary" id="print-certificate">
                    <i class="fas fa-print"></i> Print Certificate
                </button>
                                <button class="btn-secondary" id="download-certificate">
                    <i class="fas fa-download"></i> Download PDF
                </button>
            </div>
        </div>
    </div>

    <!-- Success Modal -->
    <div class="modal" id="successModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-check-circle"></i> Success!</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <p id="success-message"></p>
            </div>
            <div class="modal-footer">
                <button class="btn-primary close-modal">OK</button>
            </div>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner">
            <i class="fas fa-spinner fa-spin"></i>
            <p>Loading...</p>
        </div>
    </div>

    <script>
        // Courses Page - Fully Functional
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize course progress
            let courseProgress = {
                started: false,
                completedLessons: [],
                completedExercises: [],
                currentLesson: null,
                certificateEarned: false
            };

            // Lesson content database
            const lessons = {
                '1.1': {
                    title: 'Understanding the Interview Process',
                    content: `
                        <div class="video-placeholder">
                            <div class="video-player">
                                <i class="fas fa-play-circle"></i>
                                <p>Introduction to Interview Process</p>
                            </div>
                        </div>
                        <h3>What You'll Learn</h3>
                        <p>In this lesson, you'll understand the complete interview process from start to finish. This knowledge will help you prepare effectively and reduce anxiety.</p>
                        
                        <h3>Key Topics:</h3>
                        <ul>
                            <li><strong>Screening Interviews:</strong> Usually 15-30 minutes, often via phone or video</li>
                            <li><strong>First Round Interviews:</strong> In-depth discussion with hiring manager</li>
                            <li><strong>Technical/Practical Assessments:</strong> Skills-based tests</li>
                            <li><strong>Panel Interviews:</strong> Multiple interviewers at once</li>
                            <li><strong>Final Interviews:</strong> Often with senior leadership</li>
                        </ul>
                        
                        <div class="lesson-tip">
                            <i class="fas fa-lightbulb"></i>
                            <strong>Pro Tip:</strong> Always ask about the interview structure when scheduling. This shows professionalism and helps you prepare.
                        </div>
                    `,
                    next: '1.2'
                },
                '1.2': {
                    title: 'Researching Companies and Roles',
                    content: `
                        <h3>Why Research is Critical</h3>
                        <p>Proper research demonstrates genuine interest and helps you tailor your responses. It's the difference between a good candidate and a great candidate.</p>
                        
                        <h3>What to Research:</h3>
                        <div class="research-checklist">
                            <div class="checklist-item">
                                <i class="fas fa-check-circle"></i>
                                <div>
                                    <h4>Company Background</h4>
                                    <p>Mission, values, history, culture</p>
                                </div>
                            </div>
                            <div class="checklist-item">
                                <i class="fas fa-check-circle"></i>
                                <div>
                                    <h4>Recent News</h4>
                                    <p>Press releases, announcements, expansions</p>
                                </div>
                            </div>
                            <div class="checklist-item">
                                <i class="fas fa-check-circle"></i>
                                <div>
                                    <h4>Key People</h4>
                                    <p>CEO, department heads, interviewers</p>
                                </div>
                            </div>
                            <div class="checklist-item">
                                <i class="fas fa-check-circle"></i>
                                <div>
                                    <h4>Industry Position</h4>
                                    <p>Competitors, market share, challenges</p>
                                </div>
                            </div>
                        </div>
                        
                        <h3>Resources for Research:</h3>
                        <ul>
                            <li>Company website (especially "About Us" and "Careers" sections)</li>
                            <li>LinkedIn company page and employee profiles</li>
                            <li>Glassdoor reviews</li>
                            <li>Industry publications</li>
                            <li>Annual reports (for public companies)</li>
                        </ul>
                        
                        <div class="exercise-box">
                            <h4><i class="fas fa-pencil-alt"></i> Quick Exercise:</h4>
                            <p>Choose a company you'd like to work for and research: 1) Their mission statement, 2) One recent achievement, 3) Their main competitors.</p>
                        </div>
                    `,
                    next: '1.3'
                },
                '1.3': {
                    title: 'Preparing Your Success Stories',
                    content: `
                        <h3>The Power of Stories</h3>
                        <p>Interviewers remember stories 22 times more than facts alone. Your success stories make you memorable and demonstrate your capabilities.</p>
                        
                        <h3>Structure Your Stories with CAR:</h3>
                        <div class="car-method">
                            <div class="car-step">
                                <div class="car-number">1</div>
                                <div class="car-content">
                                    <h4>Context</h4>
                                    <p>Set the scene. What was the situation?</p>
                                </div>
                            </div>
                            <div class="car-step">
                                <div class="car-number">2</div>
                                <div class="car-content">
                                    <h4>Action</h4>
                                    <p>What did YOU specifically do?</p>
                                </div>
                            </div>
                            <div class="car-step">
                                <div class="car-number">3</div>
                                <div class="car-content">
                                    <h4>Result</h4>
                                    <p>What was the outcome? Quantify if possible.</p>
                                </div>
                            </div>
                        </div>
                        
                        <h3>Types of Success Stories to Prepare:</h3>
                        <table class="stories-table">
                            <thead>
                                <tr>
                                    <th>Situation</th>
                                    <th>Key Elements</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Overcoming a Challenge</td>
                                    <td>Problem, your solution, positive outcome</td>
                                </tr>
                                <tr>
                                    <td>Team Success</td>
                                    <td>Your role, collaboration, team achievement</td>
                                </tr>
                                <tr>
                                    <td>Innovation/Improvement</td>
                                    <td>Old way, your idea, measurable improvement</td>
                                </tr>
                                <tr>
                                    <td>Learning from Failure</td>
                                    <td>What went wrong, lessons learned, improvement</td>
                                </tr>
                            </tbody>
                        </table>
                        
                        <div class="example-box">
                            <h4><i class="fas fa-star"></i> Example Story:</h4>
                            <p><strong>Context:</strong> Sales were declining by 15% monthly.</p>
                            <p><strong>Action:</strong> I analyzed customer feedback, created a new outreach strategy, and trained the team.</p>
                            <p><strong>Result:</strong> Increased sales by 30% within 3 months and improved customer satisfaction scores.</p>
                        </div>
                    `,
                    next: '1.4'
                },
                // Additional lesson content would continue here...
            };

            // Load saved progress
            function loadProgress() {
                const saved = localStorage.getItem('courseProgress');
                if (saved) {
                    try {
                        courseProgress = JSON.parse(saved);
                        updateProgressUI();
                    } catch (e) {
                        console.log('No saved progress found');
                    }
                }
            }

            // Save progress
            function saveProgress() {
                localStorage.setItem('courseProgress', JSON.stringify(courseProgress));
            }

            // Start Course
            document.getElementById('start-course').addEventListener('click', function() {
                courseProgress.started = true;
                saveProgress();
                updateProgressUI();
                showSuccess('Course started! Begin with Lesson 1.1');
            });

            // Update UI based on progress
            function updateProgressUI() {
                if (courseProgress.started) {
                    // Show progress section
                    document.getElementById('progress-section').style.display = 'block';
                    
                    // Update progress bar
                    const totalLessons = 20;
                    const completed = courseProgress.completedLessons.length;
                    const progressPercent = (completed / totalLessons) * 100;
                    
                    document.getElementById('progress-fill').style.width = `${progressPercent}%`;
                    document.getElementById('progress-text').textContent = `${Math.round(progressPercent)}% Complete`;
                    document.getElementById('completed-lessons').textContent = `${completed}/${totalLessons} Lessons`;
                    
                    // Update lesson completion icons
                    document.querySelectorAll('.lesson').forEach(lesson => {
                        const lessonId = lesson.dataset.lesson;
                        const icon = lesson.querySelector('i');
                        
                        if (courseProgress.completedLessons.includes(lessonId)) {
                            lesson.classList.add('completed');
                            icon.className = 'fas fa-check-circle';
                        } else {
                            lesson.classList.remove('completed');
                            icon.className = 'far fa-circle';
                        }
                        
                        // Unlock or lock lessons
                        if (isLessonUnlocked(lessonId)) {
                            lesson.classList.remove('locked');
                            const button = lesson.querySelector('button');
                            button.textContent = 'View';
                            button.disabled = false;
                            button.className = 'btn-small view-lesson';
                        }
                    });
                    
                    // Update module status
                    updateModuleStatus();
                    
                    // Update certificate progress
                    updateCertificateProgress();
                }
            }

            function isLessonUnlocked(lessonId) {
                if (!courseProgress.started) return false;
                
                // All module 1 lessons are unlocked from start
                if (lessonId.startsWith('1.')) return true;
                
                // For other modules, check if previous module is complete
                const moduleNum = parseInt(lessonId.split('.')[0]);
                if (moduleNum === 1) return true;
                
                // Check if all lessons in previous module are complete
                const prevModule = moduleNum - 1;
                const prevModuleLessons = document.querySelectorAll(`.lesson[data-lesson^="${prevModule}."]`);
                let allPrevComplete = true;
                
                prevModuleLessons.forEach(lesson => {
                    if (!courseProgress.completedLessons.includes(lesson.dataset.lesson)) {
                        allPrevComplete = false;
                    }
                });
                
                return allPrevComplete;
            }

            function updateModuleStatus() {
                const modules = [1, 2, 3, 4];
                
                modules.forEach(moduleNum => {
                    const moduleLessons = document.querySelectorAll(`.lesson[data-lesson^="${moduleNum}."]`);
                    let completedCount = 0;
                    
                    moduleLessons.forEach(lesson => {
                        if (courseProgress.completedLessons.includes(lesson.dataset.lesson)) {
                            completedCount++;
                        }
                    });
                    
                    const statusElement = document.getElementById(`module${moduleNum}-status`);
                    if (completedCount === moduleLessons.length) {
                        statusElement.textContent = 'Complete';
                        statusElement.className = 'module-status complete';
                    } else if (completedCount > 0) {
                        statusElement.textContent = 'In Progress';
                        statusElement.className = 'module-status in-progress';
                    } else if (moduleNum === 1 || isLessonUnlocked(`${moduleNum}.1`)) {
                        statusElement.textContent = 'Start';
                        statusElement.className = 'module-status';
                    } else {
                        statusElement.textContent = 'Locked';
                        statusElement.className = 'module-status locked';
                    }
                });
            }

            function updateCertificateProgress() {
                // Check modules completed
                const modulesCompleted = checkModulesCompleted();
                document.getElementById('module-check').textContent = `${modulesCompleted}/4`;
                
                // Check exercises completed
                const exercisesCompleted = courseProgress.completedExercises.length;
                document.getElementById('exercise-check').textContent = `${exercisesCompleted}/2`;
                
                // Enable certificate button if all complete
                const certificateBtn = document.getElementById('generate-certificate');
                if (modulesCompleted === 4 && exercisesCompleted === 2) {
                    certificateBtn.disabled = false;
                } else {
                    certificateBtn.disabled = true;
                }
            }

            function checkModulesCompleted() {
                let completedModules = 0;
                
                for (let moduleNum = 1; moduleNum <= 4; moduleNum++) {
                    const moduleLessons = document.querySelectorAll(`.lesson[data-lesson^="${moduleNum}."]`);
                    let allComplete = true;
                    
                    moduleLessons.forEach(lesson => {
                        if (!courseProgress.completedLessons.includes(lesson.dataset.lesson)) {
                            allComplete = false;
                        }
                    });
                    
                    if (allComplete) completedModules++;
                }
                
                return completedModules;
            }

            // View Lesson
            document.addEventListener('click', function(e) {
                if (e.target.classList.contains('view-lesson') || 
                    e.target.closest('.view-lesson')) {
                    const button = e.target.classList.contains('view-lesson') ? 
                        e.target : e.target.closest('.view-lesson');
                    const lessonElement = button.closest('.lesson');
                    const lessonId = lessonElement.dataset.lesson;
                    
                    if (isLessonUnlocked(lessonId)) {
                        loadLesson(lessonId);
                    } else {
                        showError('Complete previous lessons to unlock this lesson');
                    }
                }
            });

            function loadLesson(lessonId) {
                const lesson = lessons[lessonId];
                if (!lesson) {
                    showError('Lesson content not available');
                    return;
                }
                
                // Show lesson content section
                document.getElementById('lesson-content').style.display = 'block';
                
                // Update lesson title and content
                document.getElementById('lesson-title').textContent = lesson.title;
                document.getElementById('lesson-body').innerHTML = lesson.content;
                
                // Update current lesson
                courseProgress.currentLesson = lessonId;
                saveProgress();
                
                // Scroll to lesson content
                document.getElementById('lesson-content').scrollIntoView({ behavior: 'smooth' });
                
                // Update navigation buttons
                updateLessonNavigation(lessonId);
            }

            function updateLessonNavigation(lessonId) {
                const prevBtn = document.getElementById('prev-lesson');
                const nextBtn = document.getElementById('next-lesson');
                
                // Get module and lesson numbers
                const [module, lesson] = lessonId.split('.').map(Number);
                
                // Previous lesson
                if (lesson > 1) {
                    prevBtn.disabled = false;
                    prevBtn.onclick = () => loadLesson(`${module}.${lesson - 1}`);
                } else if (module > 1) {
                    // Go to last lesson of previous module
                    const prevModuleLessons = document.querySelectorAll(`.lesson[data-lesson^="${module - 1}."]`);
                    const lastLesson = prevModuleLessons[prevModuleLessons.length - 1].dataset.lesson;
                    prevBtn.disabled = false;
                    prevBtn.onclick = () => loadLesson(lastLesson);
                } else {
                    prevBtn.disabled = true;
                }
                
                // Next lesson
                const nextLesson = lessons[lessonId]?.next;
                if (nextLesson && isLessonUnlocked(nextLesson)) {
                    nextBtn.disabled = false;
                    nextBtn.onclick = () => loadLesson(nextLesson);
                } else {
                    nextBtn.disabled = true;
                }
            }

            // Mark Lesson Complete
            document.getElementById('mark-complete').addEventListener('click', function() {
                if (!courseProgress.currentLesson) return;
                
                if (!courseProgress.completedLessons.includes(courseProgress.currentLesson)) {
                    courseProgress.completedLessons.push(courseProgress.currentLesson);
                    saveProgress();
                    updateProgressUI();
                    
                    // Check if module is now complete
                    const moduleNum = courseProgress.currentLesson.split('.')[0];
                    const moduleLessons = document.querySelectorAll(`.lesson[data-lesson^="${moduleNum}."]`);
                    const completedInModule = Array.from(moduleLessons).filter(lesson => 
                        courseProgress.completedLessons.includes(lesson.dataset.lesson)
                    ).length;
                    
                    if (completedInModule === moduleLessons.length) {
                        showSuccess(`Congratulations! Module ${moduleNum} completed!`);
                    } else {
                        showSuccess('Lesson marked as complete!');
                    }
                }
            });

            // Download Resources
            document.querySelectorAll('.download-resource').forEach(button => {
                button.addEventListener('click', function() {
                    const fileName = this.dataset.file;
                    
                    // Create a blob with sample content
                    const content = `This is a sample ${fileName} file.\n\nThank you for using 9to5 University!\n\nThis is a placeholder file. In a real application, this would be the actual resource file.`;
                    const blob = new Blob([content], { type: 'text/plain' });
                    const url = URL.createObjectURL(blob);
                    
                    // Create download link
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = fileName;
                    document.body.appendChild(a);
                    a.click();
                    document.body.removeChild(a);
                    URL.revokeObjectURL(url);
                    
                    showSuccess(`Downloading ${fileName}...`);
                });
            });

            // Submit Exercises
            document.querySelectorAll('.submit-exercise').forEach(button => {
                button.addEventListener('click', function() {
                    const exerciseCard = this.closest('.exercise-card');
                    const answerTextarea = exerciseCard.querySelector('.exercise-answer');
                    const exerciseTitle = exerciseCard.querySelector('h4').textContent;
                    
                    if (answerTextarea.value.trim()) {
                        const exerciseNum = exerciseTitle.includes('Exercise 1') ? '1' : '2';
                        
                        if (!courseProgress.completedExercises.includes(exerciseNum)) {
                            courseProgress.completedExercises.push(exerciseNum);
                            saveProgress();
                            updateCertificateProgress();
                            
                            answerTextarea.disabled = true;
                            this.disabled = true;
                            this.innerHTML = '<i class="fas fa-check"></i> Submitted';
                            this.className = 'btn-small submitted';
                            
                            showSuccess('Exercise submitted!');
                        }
                    } else {
                        showError('Please write your answer before submitting');
                    }
                });
            });

            // Generate Certificate
            document.getElementById('generate-certificate').addEventListener('click', function() {
                if (checkModulesCompleted() === 4 && courseProgress.completedExercises.length === 2) {
                    generateCertificate();
                }
            });

            function generateCertificate() {
                const certificatePreview = document.getElementById('certificatePreview');
                const today = new Date().toLocaleDateString('en-US', {
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric'
                });
                
                certificatePreview.innerHTML = `
                    <div class="certificate-design">
                        <div class="certificate-header">
                            <h1>CERTIFICATE OF COMPLETION</h1>
                            <div class="certificate-ribbon">
                                <i class="fas fa-award"></i>
                                <span>9to5 University</span>
                            </div>
                        </div>
                        
                        <div class="certificate-body">
                            <p>This is to certify that</p>
                            <h2>${prompt('Enter your name for the certificate:', 'Your Name') || 'Student'}</h2>
                            <p>has successfully completed the course</p>
                            <h3>"Master Interview Skills"</h3>
                            
                            <div class="certificate-details">
                                <div class="detail-item">
                                    <span>Date of Completion:</span>
                                    <strong>${today}</strong>
                                </div>
                                <div class="detail-item">
                                    <span>Course Duration:</span>
                                    <strong>20 Hours</strong>
                                </div>
                                <div class="detail-item">
                                    <span>Certificate ID:</span>
                                    <strong>CERT-${Date.now().toString().slice(-8)}</strong>
                                </div>
                            </div>
                        </div>
                        
                        <div class="certificate-footer">
                            <div class="signature">
                                <div class="signature-line"></div>
                                <p>Director, 9to5 University</p>
                            </div>
                            <div class="seal">
                                <i class="fas fa-certificate"></i>
                            </div>
                        </div>
                    </div>
                `;
                
                // Show modal
                document.getElementById('certificateModal').style.display = 'flex';
                courseProgress.certificateEarned = true;
                saveProgress();
            }

            // Print Certificate
            document.getElementById('print-certificate').addEventListener('click', function() {
                const printContent = document.getElementById('certificatePreview').innerHTML;
                const printWindow = window.open('', '_blank');
                
                printWindow.document.write(`
                    <!DOCTYPE html>
                    <html>
                    <head>
                        <title>Certificate - 9to5 University</title>
                        <style>
                            body { 
                                font-family: Arial, sans-serif; 
                                margin: 0; 
                                padding: 20mm;
                                text-align: center;
                            }
                            .certificate-design {
                                border: 20px solid #4a6bff;
                                padding: 40px;
                                max-width: 800px;
                                margin: 0 auto;
                                background: white;
                                position: relative;
                            }
                            h1 { color: #4a6bff; margin: 20px 0; }
                            h2 { color: #333; margin: 30px 0; }
                            .certificate-ribbon {
                                background: #4a6bff;
                                color: white;
                                padding: 10px 20px;
                                display: inline-block;
                                margin: 20px 0;
                            }
                            .signature-line {
                                border-top: 2px solid #333;
                                width: 200px;
                                margin: 40px auto 10px;
                            }
                            @media print {
                                body { padding: 0; }
                            }
                        </style>
                    </head>
                    <body>
                        ${printContent}
                        <script>
                            window.onload = function() {
                                window.print();
                            };
                        <\/script>
                    </body>
                    </html>
                `);
                printWindow.document.close();
            });

            // Download Certificate PDF
            document.getElementById('download-certificate').addEventListener('click', function() {
                // In a real application, this would generate a PDF
                // For now, we'll simulate a download
                const certificateId = `CERT-${Date.now().toString().slice(-8)}`;
                const fileName = `9to5-University-Certificate-${certificateId}.pdf`;
                
                // Simulate download
                const link = document.createElement('a');
                link.href = '#';
                link.download = fileName;
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
                
                showSuccess('Certificate download started!');
            });

            // Donation Functionality
            document.querySelectorAll('.donation-option').forEach(option => {
                option.addEventListener('click', function() {
                    document.querySelectorAll('.donation-option').forEach(o => o.classList.remove('selected'));
                    this.classList.add('selected');
                    document.getElementById('course-donation-amount').value = '';
                });
            });

            document.getElementById('course-donation-amount').addEventListener('input', function() {
                document.querySelectorAll('.donation-option').forEach(o => o.classList.remove('selected'));
            });

            document.getElementById('course-donate-btn').addEventListener('click', function() {
                let amount = 0;
                const selected = document.querySelector('.donation-option.selected');
                
                if (selected) {
                    amount = selected.dataset.amount;
                } else if (document.getElementById('course-donation-amount').value) {
                    amount = document.getElementById('course-donation-amount').value;
                }
                
                if (amount > 0) {
                    processDonation(amount);
                } else {
                    showError('Please select or enter a donation amount');
                }
            });

            function processDonation(amount) {
                const reference = 'COURSE-DONATION-' + Date.now().toString().slice(-6);
                const message = `
                    Thank you for your donation of R${amount}!
                    
                    Please complete your donation using these details:
                    
                    Bank: Standard Bank
                    Account: MagTec Invest
                    Account Number: 1234567890
                    Reference: ${reference}
                    Amount: R${amount}
                    
                    Email proof of payment to: magtecinvest@gmail.com
                `;
                
                showSuccess(message);
                
                // Clear selection
                document.querySelectorAll('.donation-option').forEach(o => o.classList.remove('selected'));
                document.getElementById('course-donation-amount').value = '';
            }

            // Utility Functions
            function showSuccess(message) {
                document.getElementById('success-message').innerHTML = message.replace(/\n/g, '<br>');
                document.getElementById('successModal').style.display = 'flex';
            }

            function showError(message) {
                alert('Error: ' + message);
            }

            function showLoading(show) {
                document.getElementById('loadingOverlay').style.display = show ? 'flex' : 'none';
            }

            // Modal close functionality
            document.querySelectorAll('.close-modal').forEach(button => {
                button.addEventListener('click', function() {
                    this.closest('.modal').style.display = 'none';
                });
            });

            // Close modal when clicking outside
            window.addEventListener('click', function(event) {
                if (event.target.classList.contains('modal')) {
                    event.target.style.display = 'none';
                }
            });

            // Initialize
            loadProgress();
        });
    </script>
</body>
</html>